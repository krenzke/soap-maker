<div class="flex items-center justify-between mb-6">
  <h1 class="text-2xl font-semibold">Purchases</h1>
  <div>
    <%= link_to "Record New Purchase", new_ingredient_purchase_path, class: 'btn-primary' %>
  </div>
</div>

<table class="w-full text-sm text-left text-gray-500 rtl:text-right">
  <thead class="text-xs text-gray-700 uppercase bg-gray-50">
    <tr>
      <th scope="col" class="px-6 py-3">Ingredient</th>
      <th scope="col" class="px-6 py-3">Source</th>
      <th scope="col" class="px-6 py-3">Date</th>
      <th scope="col" class="px-6 py-3">Quanity (Oz)</th>
      <th scope="col" class="px-6 py-3">Total Cost</th>
      <th scope="col" class="px-6 py-3">Cost per Oz</th>
      <th scope="col" class="px-6 py-3"></th>
    </tr>
  </thead>

  <tbody>
    <% @ingredient_purchases.each do |ingredient_purchase| %>
      <tr class="bg-white border-b">
        <td class="px-6 py-4"><%= ingredient_purchase.ingredient.name %></td>
        <td class="px-6 py-4"><%= ingredient_purchase.source %></td>
        <td class="px-6 py-4"><%= ingredient_purchase.purchased_on %></td>
        <td class="px-6 py-4"><%= ingredient_purchase.total_quantity_oz %></td>
        <td class="px-6 py-4"><%= number_to_currency(ingredient_purchase.total_cost) %></td>
        <td class="px-6 py-4"><%= number_to_currency(ingredient_purchase.price_per_oz) %></td>
        <td class="flex gap-2 px-6 py-4">
          <%= link_to 'Edit', edit_ingredient_purchase_path(ingredient_purchase), class: 'link' %>
          <%= button_to 'Delete', ingredient_purchase, method: :delete, form: { data: { confirm: 'Are you sure you want to delete this purchase?' } } %>
        </td>
      </tr>
    <% end %>
  </tbody>

</table>
